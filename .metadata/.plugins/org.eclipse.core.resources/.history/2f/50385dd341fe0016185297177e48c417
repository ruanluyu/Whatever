package blocks;

import processing.core.PApplet;
import system.Map;
import system.Rectangle;

public class Block_Thorn extends Block implements TouchFeedBack, NeedInitialize,Penetrable {

	public Block_Thorn() {
		super(Block.BlockId.THORN);
		area = new Rectangle(0, 0, Map.BLOCKSIZE / 2f, Map.BLOCKSIZE / 1.2f);
		area.setCenterPointByRatio(.5f, 1f);
		area.moveCenterTo(Map.BLOCKSIZE / 2f, Map.BLOCKSIZE);
		area.setCenterPointByFloat(Map.BLOCKSIZE / 2f, Map.BLOCKSIZE / 2f);
	}

	public Block_Thorn(int r90) {
		this();
		rotate90 = r90;
		area.rotate(r90*PApplet.HALF_PI);
	}

	@Override
	public void touch(Rectangle rec) {
		if(!rec.intersected(area)){
			return;
		}
		type = Block.BlockId.THORN_T;
		gm.man.kill();
	}

	@Override
	public void initialize() {
		type = Block.BlockId.THORN;
	}

	@Override
	public void penetrate() {
		// TODO Auto-generated method stub
		
	}

}
