package Weapon;

import processing.core.PImage;

public abstract class Weapon {
	public PImage img = null;
	public Particle_System parSystem = null;
	public WeaponProperties pro = null;
	public int coolTime;
	
	public Weapon(){
		pro = buildProperties();
		parSystem = new Particle_System();
		coolTime = pro.coolTime;
	}
	
	public abstract WeaponProperties buildProperties();
	
	public void shoot(){
		
	}
	
	private boolean updateCoolTime(){
		if(coolTime<=0){
			coolTime = 0;
			return false;
		}
		coolTime--
		return true;
	}
	
	public class WeaponProperties{
		public int numPerShoot = 1;
		public float speed = 10f;
		public int coolTime = 5;
		
		/**
		 * 精准度  不准(0.0-1.0)准
		 */
		public float accuracy = 0.8f;
		/**
		 * 散射范围扇形角度(角度制)
		 */
		public int angle = 5;
		public int numOfBullets = 100;
		public int bulletLife = 100;
		
		/**
		 * 穿透次数
		 */
		public int strike = 1;
	}
}
